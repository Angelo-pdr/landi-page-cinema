!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).trackingService=e()}(this,function(){"use strict";var t=function(){return(t=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var a in e=arguments[o])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},e=function(){return function(){this.remarketing=function(t,e,o){t.push({event:"remarketing",remarketing:{dynx_pagetype:e,dynx_itemid:o}})},this.checkout=function(t,e,o,n){var a={event:"checkout",ecommerce:{currencyCode:"BRL",checkout:{actionField:o,products:e}}};n&&(a.eventCallback=n),t.push(a)},this.transaction=function(t,e,o){var n={currencyCode:"BRL",purchase:{actionField:e.actionField,products:e.products}},a={event:e.eventType,ecommerce:n,distributor:e.productsInfo.distributor,ticketQuantity:e.productsInfo.ticketQuantity,ticketValue:e.productsInfo.ticketValue,productQuantity:e.productsInfo.productQuantity,productValue:e.productsInfo.productValue,eventCallback:o};t.push(a)},this.addToCart=function(t,e){var o={event:"addToCart",ecommerce:{currencyCode:"BRL",add:{products:[e]}}};t.push(o)},this.checkoutOption=function(t,e,o){var n={event:"checkoutOption",ecommerce:{checkout_option:{actionField:{step:e,option:o}}}};t.push(n)}}}();return{google:function(){function o(o,n,a){var i=this;this.options={dataLayerName:"dataLayer",shouldInjectGTM:!0},this.trackProductList=function(t){var e={ecommerce:{currencyCode:"BRL",event:"productImpression",impressions:t}};i.dataLayer.push(e)},this.trackProductView=function(t,e){var o={event:"productDetailView",ecommerce:{detail:{actionField:{list:e},products:[t]}}};i.dataLayer.push(o)},this.trackPromotionList=function(t){var e={event:"promotionView",ecommerce:{promoView:{promotions:t}}};i.dataLayer.push(e)},this.trackPromotionClick=function(t,e){var o={event:"promotionClick",ecommerce:{promoClick:{promotions:t}}};e&&(o.eventCallback=e),i.dataLayer.push(o)},this.injectGTMScript=function(){var t=window,e=document.createElement("script"),o="dataLayer"!==i.options.dataLayerName?"&l="+i.options.dataLayerName:"";t[i.options.dataLayerName]=i.dataLayer,t[i.options.dataLayerName].push({"gtm.start":(new Date).getTime(),event:"gtm.js"}),e.type="text/javascript",e.src="https://www.googletagmanager.com/gtm.js?id="+i.gtmCode+o,e.async=!0,document.body.appendChild(e)},this.trackEvent=function(t){i.dataLayer.push(t)},this.trackProductImpressions=function(t,e,o,n,a,c){var r={event:"product_impressions",event_category:"Ecommerce",event_action:"Product List Impressions",event_label:t,event_value:"",event_non_interaction:!0,ecommerce:{impressions:[{name:t,id:e,brand:o,category:n,list:a,position:c}]}};i.dataLayer.push(r)},this.trackProductClick=function(t){var e={click:{actionField:{list:t.list},products:[{name:t.name,id:t.id,brand:t.brand,category:t.category,position:t.position}]}},o={event:"product_click",event_category:"Ecommerce",event_action:"Product List Click",event_label:t.name,event_value:void 0,event_non_interaction:!1,ecommerce:e};i.dataLayer.push(o)},this.remarketing=function(t,o){(new e).remarketing(i.dataLayer,t,o)},this.addToCart=function(t){(new e).addToCart(i.dataLayer,t)},this.checkout=function(t,o,n){(new e).checkout(i.dataLayer,t,o,n)},this.checkoutOption=function(t,o){(new e).checkoutOption(i.dataLayer,t,o)},this.transaction=function(t,o){(new e).transaction(i.dataLayer,t,o)},this.gtmCode=o,this.dataLayer=n,a&&(this.options=t({},this.options,a)),/GTM-[A-Z0-9]+/.test(o)?this.options.shouldInjectGTM&&window.addEventListener("load",function(){i.injectGTMScript()},!1):console.warn("You should use a valid GTM code")}return o.prototype.trackPageView=function(e,o,n){var a=t({},n,{event:"pageview",user:e,page:o});this.dataLayer.push(a)},o}()}});
//# sourceMappingURL=tracking-service.umd.js.map
